<div ng-controller="ProductController as Product">
	<div class="panel panel-default padded-panel" ng-show="Admin.Tab === 2">
		<h4 class="admin-h4">Products</h4>
		<div class="add-button col-md-1 col-md-offset-11" ng-show="Product.DisplayMode === 'list'">
	    <button class="btn btn-success" ng-click="Product.AddProduct()">
	       <span class="glyphicon glyphicon-plus"></span>
	    </button>
		</div>
		<table class="table table-hover" ng-show="Product.DisplayMode === 'list'">
			<thead>
				<tr>
					<th>Title</th>
					<th>Price</th>
					<th>Size</th>
					<th>Edit</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="product in Product.Products track by $index">
					<td>{{product.Title}}</td>
					<td>{{product.Price}}</td>
					<td>{{product.Size}}</td>
					<td><button type="button" class="btn btn-warning" ng-click="Product.EditProduct(product, $index)"><span class="glyphicon glyphicon-pencil"></span></button></td>
					<td><button type="button" class="btn btn-danger" ng-click="Product.DeleteProduct(product, $index)"><span class="glyphicon glyphicon-trash"></span></button></td>
				</tr>
			</tbody>
		</table>
		<div ng-show=" Product.DisplayMode == 'edit' || Product.DisplayMode == 'create' ">
			<form name="ProductForm">
				<div class="row">
					<div class="col-md-6">
						<label class="control-label">Title</label>
						<input type="text" class="form-control" ng-model="Product.Title" placeholder="Product Title" required />
					</div>
					<div class="col-md-3">
						<label class="control-label">Category</label>
						<select class="form-control" ng-options="c.Name as c.Name for c in Product.Categories" ng-model="Product.Category"></select>
					</div>
					<div class="col-md-3">
						<label class="control-label">Price</label>
						<input type="text" class="form-control" ng-model="Product.Price" placeholder="$ Price" required />
					</div>
				</div><br />
				<div class="row">
					<div class="col-md-4" ng-repeat="image in Product.Images">
						<img ng-src='http://res.cloudinary.com/dewoxdkgg/image/upload/h_165,w_285/{{image.PublicId}}' />
						<label class="control-label">Change Image</label>
						<input name="image1" fileread="Product.Image1" type="file" class="form-control" ng-model="Product.Image1" />
						<button class="btn btn-warning" ng-click="Product.DeleteImage($index)">Delete</button>
					</div>
					<div ng-if="Product.Images.length < 2" class="col-md-4">
						<label class="control-label">Add Image</label>
						<input name="image2" fileread="Product.Image2" type="file" class="form-control" ng-model="Product.Image2" />
					</div>
					<div ng-if="Product.Images.length == 2 && Product.Image2" class="col-md-4">
						<label class="control-label">Add Image</label>
						<input name="image2" fileread="Product.Image3" type="file" class="form-control" ng-model="Product.Image3" />
					</div>
				</div><br />
				<div class="row">
					<div class="col-md-8">
						<label class="control-label">Description</label>
						<textarea class="form-control" rows="3" placeholder="Description..." ng-model="Product.Description" ng-minlength="50"></textarea>
					</div>
					<div class="col-md-4">
						<label class="control-label">Size</label>
						<input type="text" name="size" class="form-control" ng-model="Product.Size" placeholder="Size.." />
					</div>
				</div>
				<div class="row">
					<div class="col-md-2 col-md-offset-8">
						<button class="btn btn-default" ng-click="Product.Cancel()">Cancel</button>
					</div>
					<div class="col-md-2">
						<button type="submit" class="btn btn-primary" ng-click="Product.UpdateProduct()">Update</button>
					</div>
				</div>	   
			</form>	
			<br />
		</div>	
	</div>
</div>